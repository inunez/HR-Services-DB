<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:form id="mainBody">
        <p:growl id="msgs" showDetail="true" />
        <p:dashboard id="board" model="#{dashboardView.model}">

            <p:ajax event="reorder" listener="#{dashboardView.handleReorder}" update="msgs" />

            <c:set var="employeeSelected" value="#{employeeController.selected}"/>

            <p:panel id="personalData" header="Personal Data">
                <div class="panelPersonalData">
                    <div>
                        <div class="photoBox"/>
                        <div class="rowHIName">
                            <h:outputText value="Status:"/>
                        </div>
                        <div class="rowHIValue" id="#{employeeSelected.status1.description}">
                            <h:outputText value="#{employeeSelected.status1.description}"/>
                        </div>
                        <div class="rowHIName">
                            <h:outputText value="ID Number:"/>
                        </div>
                        <div class="rowHIValue">
                            <h:outputText value="#{employeeSelected.employeePK.idNumber}"/>
                        </div>
                        <div class="rowHIName">
                            <h:outputText value="Name:"/>
                        </div>
                        <div class="rowHIValue">
                            <h:outputText value="#{employeeSelected.firstName}"/>
                        </div>
                        <div class="rowHIName">
                            <h:outputText value="Surname:"/>
                        </div>
                        <div class="rowHIValue">
                            <h:outputText value="#{employeeSelected.surname}" />
                        </div>
                        <div class="rowHIName">
                            <h:outputText value="Account:"/>
                        </div>
                        <div class="rowHIValue">
                            <h:outputText value="#{employeeSelected.payrollCollection[0].accountNumber.accountNumber} - #{employeeSelected.payrollCollection[0].accountNumber.accountDescription}"/>
                        </div>

                    </div>
                    <div style="clear: left">
                        <div class="rowLOName">
                            <h:outputText value="Hire Date:" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.hireDate}">
                                <f:convertDateTime pattern="dd MMMM yyyy"/>
                            </h:outputText>
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Reports to:" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value= "#{employeeSelected.reportsToPositionId.employeeCollection[0].firstName} 
                                          #{employeeSelected.reportsToPositionId.employeeCollection[0].surname}" />
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Home Address:" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.homeAddress}" />
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Suburb" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.suburb}" />
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Post Code / State" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.postcode} / #{employeeSelected.stateCode.stateCode}" />
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Email" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.businessEmail} " />
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Personal Email" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.personalEmail} " />
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Police Check" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.policeCheckCollection[0].expiryDate}">
                                <f:convertDateTime pattern="dd MMMM yyyy"/>
                            </h:outputText>
                            <h:outputText value=" Ref.:#{employeeSelected.policeCheckCollection[0].precedaComment} "/>
                        </div>
                        <div class="rowLOName">
                            <h:outputText value="Visa Details" />
                        </div>
                        <div class="rowLOValue">
                            <h:outputText value="#{employeeSelected.visaCollection[0].visaExpiryDate}">
                                <f:convertDateTime pattern="dd MMMM yyyy"/>
                            </h:outputText>
                            <h:outputText value=" Ref.:#{employeeSelected.visaCollection[0].precedaComment1} "/>
                        </div>
                    </div>
                </div>
            </p:panel>

            <p:panel id="position" header="Position Information">
                <div class="panelPositionData">
                    <div class="rowLOName">
                        <h:outputText value="Position ID:"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.positionId.positionId}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Position Title:"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.positionId.positionTitle}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Classification:"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.classificationId.classificationDescription}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Reports To:"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.reportsToPositionId.positionTitle}"/>
                    </div>
                    <div class="rowHIName2">
                        <h:outputText value="Name:"/>
                    </div>
                    <div class="rowHIValue2">
                        <h:outputText value="#{employeeSelected.reportsToPositionId.employeeCollection[0].firstName} 
                                      #{employeeSelected.reportsToPositionId.employeeCollection[0].surname}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Department:"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.departmentId.departmentId} - 
                                               #{employeeSelected.departmentId.departmentDescription}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Award"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.awardId.awardCode} - 
                                               #{employeeSelected.awardId.awardDescription}"/>
                    </div>
                </div>
            </p:panel>

            <p:panel id="payroll" header="Payroll Details">
                <div class="panelPayrollData">
                    <div class="rowHIName2">
                        <h:outputText value="Position:"/>
                    </div>
                    <div class="rowHIValue2">
                        <h:outputText value="#{employeeSelected.positionId.positionTitle}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Employment Type"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.payrollCollection[0].employmentType.employmentTypeDescription}"/>
                    </div>
                    <div class="rowLOName">
                        <h:outputText value="Rate"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="$#{employeeSelected.payrollCollection[0].baseRate}"/>
                    </div>                    
                    <div class="rowLOName">
                        <h:outputText value="Base Hours"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.payrollCollection[0].baseHoursAmount}"/>
                    </div>
                    
                    <div class="rowLOName">
                        <h:outputText value="Classification"/>
                    </div>
                    <div class="rowLOValue">
                        <h:outputText value="#{employeeSelected.payrollCollection[0].baseRateCode}"/>
                    </div>
                </div>
            </p:panel>
            
            <p:panel id="earning" header="Earnings">
                <div class="panelEarningData">
                    <p:dataTable var="employeeEarning" value="#{employeeSelected.earningCollection}" 
                                 scrollable="true" scrollHeight="105">
                        <p:column headerText="Period Date">
                            <h:outputText value="#{employeeEarning.periodStartDate}">
                                <f:convertDateTime pattern="dd MMMM yyyy"/>
                            </h:outputText>
                        </p:column>
                        <f:facet name="footer">
                            <h:outputText value="#{employeeSelected.earningCollection.size()} items"/>
                        </f:facet>
                    </p:dataTable>
                </div>
            </p:panel>

            <p:panel id="leave" header="Leaves">
                <div class="panelLeaveData">
                    
                </div>
            </p:panel>

            <p:panel id="policeCheck" header="Police Check">
                <div class="panelPoliceCheckData">
                    
                </div>
            </p:panel>

            <p:panel id="visas" header="Visa Details">
                <div class="panelPoliceCheckData">
                    
                </div>
            </p:panel>
            
        </p:dashboard>
    </h:form>
</ui:composition>